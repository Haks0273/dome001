{
  "version": 3,
  "sources": ["../destr/dist/index.mjs", "../deep-pick-omit/dist/index.mjs", "../pinia-plugin-persistedstate/dist/index.js", "dep:pinia-plugin-persistedstate"],
  "sourcesContent": ["const suspectProtoRx = /\"(?:_|\\\\u0{2}5[Ff]){2}(?:p|\\\\u0{2}70)(?:r|\\\\u0{2}72)(?:o|\\\\u0{2}6[Ff])(?:t|\\\\u0{2}74)(?:o|\\\\u0{2}6[Ff])(?:_|\\\\u0{2}5[Ff]){2}\"\\s*:/;\nconst suspectConstructorRx = /\"(?:c|\\\\u0063)(?:o|\\\\u006[Ff])(?:n|\\\\u006[Ee])(?:s|\\\\u0073)(?:t|\\\\u0074)(?:r|\\\\u0072)(?:u|\\\\u0075)(?:c|\\\\u0063)(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:r|\\\\u0072)\"\\s*:/;\nconst JsonSigRx = /^\\s*[\"[{]|^\\s*-?\\d{1,16}(\\.\\d{1,17})?([Ee][+-]?\\d+)?\\s*$/;\nfunction jsonParseTransform(key, value) {\n  if (key === \"__proto__\" || key === \"constructor\" && value && typeof value === \"object\" && \"prototype\" in value) {\n    warnKeyDropped(key);\n    return;\n  }\n  return value;\n}\nfunction warnKeyDropped(key) {\n  console.warn(`[destr] Dropping \"${key}\" key to prevent prototype pollution.`);\n}\nfunction destr(value, options = {}) {\n  if (typeof value !== \"string\") {\n    return value;\n  }\n  const _value = value.trim();\n  if (\n    // eslint-disable-next-line unicorn/prefer-at\n    value[0] === '\"' && value.endsWith('\"') && !value.includes(\"\\\\\")\n  ) {\n    return _value.slice(1, -1);\n  }\n  if (_value.length <= 9) {\n    const _lval = _value.toLowerCase();\n    if (_lval === \"true\") {\n      return true;\n    }\n    if (_lval === \"false\") {\n      return false;\n    }\n    if (_lval === \"undefined\") {\n      return void 0;\n    }\n    if (_lval === \"null\") {\n      return null;\n    }\n    if (_lval === \"nan\") {\n      return Number.NaN;\n    }\n    if (_lval === \"infinity\") {\n      return Number.POSITIVE_INFINITY;\n    }\n    if (_lval === \"-infinity\") {\n      return Number.NEGATIVE_INFINITY;\n    }\n  }\n  if (!JsonSigRx.test(value)) {\n    if (options.strict) {\n      throw new SyntaxError(\"[destr] Invalid JSON\");\n    }\n    return value;\n  }\n  try {\n    if (suspectProtoRx.test(value) || suspectConstructorRx.test(value)) {\n      if (options.strict) {\n        throw new Error(\"[destr] Possible prototype pollution\");\n      }\n      return JSON.parse(value, jsonParseTransform);\n    }\n    return JSON.parse(value);\n  } catch (error) {\n    if (options.strict) {\n      throw error;\n    }\n    return value;\n  }\n}\nfunction safeDestr(value, options = {}) {\n  return destr(value, { ...options, strict: true });\n}\n\nexport { destr as default, destr, safeDestr };\n", "function get(obj, path) {\n  if (obj == null)\n    return void 0;\n  let value = obj;\n  for (let i = 0; i < path.length; i++) {\n    if (value == null || value[path[i]] == null)\n      return void 0;\n    value = value[path[i]];\n  }\n  return value;\n}\nfunction set(obj, value, path) {\n  if (path.length === 0)\n    return value;\n  const idx = path[0];\n  if (path.length > 1) {\n    value = set(\n      typeof obj !== \"object\" || obj === null || !Object.prototype.hasOwnProperty.call(obj, idx) ? Number.isInteger(Number(path[1])) ? [] : {} : obj[idx],\n      value,\n      Array.prototype.slice.call(path, 1)\n    );\n  }\n  if (Number.isInteger(Number(idx)) && Array.isArray(obj))\n    return obj.slice()[idx];\n  return Object.assign({}, obj, { [idx]: value });\n}\nfunction unset(obj, path) {\n  if (obj == null || path.length === 0)\n    return obj;\n  if (path.length === 1) {\n    if (obj == null)\n      return obj;\n    if (Number.isInteger(path[0]) && Array.isArray(obj))\n      return Array.prototype.slice.call(obj, 0).splice(path[0], 1);\n    const result = {};\n    for (const p in obj)\n      result[p] = obj[p];\n    delete result[path[0]];\n    return result;\n  }\n  if (obj[path[0]] == null) {\n    if (Number.isInteger(path[0]) && Array.isArray(obj))\n      return Array.prototype.concat.call([], obj);\n    const result = {};\n    for (const p in obj)\n      result[p] = obj[p];\n    return result;\n  }\n  return set(\n    obj,\n    unset(\n      obj[path[0]],\n      Array.prototype.slice.call(path, 1)\n    ),\n    [path[0]]\n  );\n}\n\nfunction deepPickUnsafe(obj, paths) {\n  return paths.map((p) => p.split(\".\")).map((p) => [p, get(obj, p)]).filter((t) => t[1] !== void 0).reduce((acc, cur) => set(acc, cur[1], cur[0]), {});\n}\nfunction deepPick(obj, paths) {\n  return deepPickUnsafe(obj, paths);\n}\nfunction deepOmitUnsafe(obj, paths) {\n  return paths.map((p) => p.split(\".\")).reduce((acc, cur) => unset(acc, cur), obj);\n}\nfunction deepOmit(obj, paths) {\n  return deepOmitUnsafe(obj, paths);\n}\n\nexport { deepOmit, deepOmitUnsafe, deepPick, deepPickUnsafe };\n", "// src/index.ts\nimport { destr } from \"destr\";\n\n// src/runtime/core.ts\nimport { deepOmitUnsafe, deepPickUnsafe } from \"deep-pick-omit\";\nfunction hydrateStore(store, {\n  storage,\n  serializer,\n  key,\n  debug,\n  pick,\n  omit,\n  beforeHydrate,\n  afterHydrate\n}, context, runHooks = true) {\n  try {\n    if (runHooks)\n      beforeHydrate?.(context);\n    const fromStorage = storage.getItem(key);\n    if (fromStorage) {\n      const deserialized = serializer.deserialize(fromStorage);\n      const picked = pick ? deepPickUnsafe(deserialized, pick) : deserialized;\n      const omitted = omit ? deepOmitUnsafe(picked, omit) : picked;\n      store.$patch(omitted);\n    }\n    if (runHooks)\n      afterHydrate?.(context);\n  } catch (error) {\n    if (debug)\n      console.error(\"[pinia-plugin-persistedstate]\", error);\n  }\n}\nfunction persistState(state, {\n  storage,\n  serializer,\n  key,\n  debug,\n  pick,\n  omit\n}) {\n  try {\n    const picked = pick ? deepPickUnsafe(state, pick) : state;\n    const omitted = omit ? deepOmitUnsafe(picked, omit) : picked;\n    const toStorage = serializer.serialize(omitted);\n    storage.setItem(key, toStorage);\n  } catch (error) {\n    if (debug)\n      console.error(\"[pinia-plugin-persistedstate]\", error);\n  }\n}\nfunction createPersistence(context, optionsParser, auto) {\n  const { pinia, store, options: { persist = auto } } = context;\n  if (!persist)\n    return;\n  if (!(store.$id in pinia.state.value)) {\n    const originalStore = pinia._s.get(store.$id.replace(\"__hot:\", \"\"));\n    if (originalStore)\n      Promise.resolve().then(() => originalStore.$persist());\n    return;\n  }\n  const persistenceOptions = Array.isArray(persist) ? persist : persist === true ? [{}] : [persist];\n  const persistences = persistenceOptions.map(optionsParser);\n  store.$hydrate = ({ runHooks = true } = {}) => {\n    persistences.forEach((p) => {\n      hydrateStore(store, p, context, runHooks);\n    });\n  };\n  store.$persist = () => {\n    persistences.forEach((p) => {\n      persistState(store.$state, p);\n    });\n  };\n  persistences.forEach((p) => {\n    hydrateStore(store, p, context);\n    store.$subscribe(\n      (_mutation, state) => persistState(state, p),\n      { detached: true }\n    );\n  });\n}\n\n// src/index.ts\nfunction createPersistedState(options = {}) {\n  return function(context) {\n    createPersistence(\n      context,\n      (p) => ({\n        key: (options.key ? options.key : (x) => x)(p.key ?? context.store.$id),\n        debug: p.debug ?? options.debug ?? false,\n        serializer: p.serializer ?? options.serializer ?? {\n          serialize: (data) => JSON.stringify(data),\n          deserialize: (data) => destr(data)\n        },\n        storage: p.storage ?? options.storage ?? window.localStorage,\n        beforeHydrate: p.beforeHydrate,\n        afterHydrate: p.afterHydrate,\n        pick: p.pick,\n        omit: p.omit\n      }),\n      options.auto ?? false\n    );\n  };\n}\nvar src_default = createPersistedState();\nexport {\n  createPersistedState,\n  src_default as default\n};\n", "import d from \"./node_modules/pinia-plugin-persistedstate/dist/index.js\";export default d;\nexport * from \"./node_modules/pinia-plugin-persistedstate/dist/index.js\""],
  "mappings": "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",
  "names": []
}
